# ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. ImportError: cannot import name 'get_timezone_keyboard'
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏–∏ `get_timezone_keyboard` –∏ `get_extended_timezone_keyboard` –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –≤ –º–æ–¥—É–ª–µ `timezones.py`, –Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å –∏–∑ `keyboards.py`.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ `keyboards.py`:
```python
from timezones import get_timezone_keyboard, get_extended_timezone_keyboard
```

### 2. –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- ‚úÖ Try/catch –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ (2-50 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ HTML-—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã:

```bash
# .env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
WEATHERAPI_KEY=–≤–∞—à_–∫–ª—é—á_–æ—Ç_weatherapi.com
DATABASE_PATH=weather_bot.db
LOG_LEVEL=INFO
ADMIN_ID=–≤–∞—à_telegram_user_id
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
python check_bot.py
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚úÖ –ò–º–ø–æ—Ä—Ç—ã - OK
‚ùå –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è - FAIL  # –ù–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω .env
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - OK
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
python main.py
```

---

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:

### –£—Å–ø–µ—à–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ: `/start`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è: **–¢–∏–º—É—Ä**
4. –í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å: **GMT+6 (–ë–∏—à–∫–µ–∫, –ê–ª–º–∞—Ç—ã, –û–º—Å–∫)**
5. –í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥: **–ë–∏—à–∫–µ–∫** (–∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ GPS)

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```
‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

üîî –£—Ç—Ä–µ–Ω–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑: 07:00
(–∏–∑–º–µ–Ω–∏—Ç—å –º–æ–∂–Ω–æ –≤ ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)

üå§ –°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–≥–æ–¥—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å: ‚¨áÔ∏è

[–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã —Å –¥–µ—Ç–∞–ª—è–º–∏]
```

### –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:

**–¢–µ—Å—Ç 1: –ö–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è**
- –í–≤–µ–¥–∏—Ç–µ: `–ê`
- –û–∂–∏–¥–∞–µ—Ç—Å—è: `‚ùå –ò–º—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ. –í–≤–µ–¥–∏—Ç–µ —Ö–æ—Ç—è –±—ã 2 —Å–∏–º–≤–æ–ª–∞:`

**–¢–µ—Å—Ç 2: –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –≥–æ—Ä–æ–¥**
- –í–≤–µ–¥–∏—Ç–µ: `–ê–±–≤–ì–¥–ï–∂–ó123`
- –û–∂–∏–¥–∞–µ—Ç—Å—è: 
```
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –≥–æ—Ä–æ–¥ ¬´–ê–±–≤–ì–¥–ï–∂–ó123¬ª.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:
‚Ä¢ –£–∫–∞–∑–∞—Ç—å –¥—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (Moskva, Moscow)
‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
‚Ä¢ –û—Ç–ø—Ä–∞–≤–∏—Ç—å GPS-–ª–æ–∫–∞—Ü–∏—é –∫–Ω–æ–ø–∫–æ–π –Ω–∏–∂–µ
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤:

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤:
```bash
Get-Content bot.log -Tail 50
```

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
Get-Content -Path bot.log -Wait -Tail 20
```

### –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:

**–£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
```
INFO - üë§ User 12345 (username) –∑–∞–ø—É—Å—Ç–∏–ª /start
INFO - üÜï –ù–∞—á–∞–ª–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è user 12345
INFO - üìù User 12345 –≤–≤–µ–ª –∏–º—è: –¢–∏–º—É—Ä
INFO - üåç User 12345 –≤—ã–±—Ä–∞–ª timezone callback: TZ_SELECT_Asia/Bishkek
INFO - ‚úÖ User 12345 –≤—ã–±—Ä–∞–ª timezone: Asia/Bishkek
INFO - üìç User 12345 –æ—Ç–ø—Ä–∞–≤–∏–ª –ª–æ–∫–∞—Ü–∏—é
INFO - üîç User 12345 –≤–≤–µ–ª –≥–æ—Ä–æ–¥: –ë–∏—à–∫–µ–∫
INFO - ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞–π–¥–µ–Ω—ã –¥–ª—è –ë–∏—à–∫–µ–∫: 42.87, 74.59
INFO - üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 12345
INFO - ‚úÖ User 12345 —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –ë–î
INFO - üéâ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è user 12345 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
```

**–û—à–∏–±–∫–∏:**
```
ERROR - ‚ùå –û—à–∏–±–∫–∞ –≤ ask_location –¥–ª—è user 12345: ...
WARNING - ‚ùå –ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω: –ê–±–≤–ì–¥–ï–∂–ó123
```

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫:

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid token"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env
cat .env
# –∏–ª–∏
Get-Content .env

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ü–∏—Ñ—Ä, —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–æ–µ—Ç–æ—á–∏–µ)
# –ü—Ä–∏–º–µ—Ä: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot connect to database"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
alembic current
alembic upgrade head
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Weather API error"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á WeatherAPI
# –ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª—é—á: https://www.weatherapi.com/signup.aspx
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫:

- [ ] –§–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞: `alembic upgrade head`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–∞: `python check_bot.py`
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω: `python main.py`
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ Telegram
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

---

## üìû –ß—Ç–æ –¥–∞–ª—å—à–µ:

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ BotFather:**
   ```
   start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
   weather - –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É
   stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é
   settings - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
   help - –ü–æ–º–æ—â—å
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–µ–ø–ª–æ–π** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
   - Heroku, Railway, –∏–ª–∏ VPS
   - Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ `bot.log`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/admin` –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
